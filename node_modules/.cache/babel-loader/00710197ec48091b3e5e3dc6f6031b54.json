{"ast":null,"code":"import _asyncToGenerator from\"E:/project/react/react-product/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/project/react/react-product/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\project\\\\react\\\\react-product\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Splide,SplideSlide}from\"@splidejs/react-splide\";import React,{useEffect,useState}from\"react\";import{Wrapper,Card,Gradient}from\"./Styled\";import\"@splidejs/react-splide/css\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Popular=function Popular(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),popular=_useState2[0],setPopular=_useState2[1];useEffect(function(){getPopular();},[]);var getPopular=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var check,api,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:check=localStorage.getItem('product');if(!check){_context.next=6;break;}console.log('get data from local storage');setPopular(JSON.parse(check));_context.next=15;break;case 6:console.log('calling api');_context.next=9;return fetch(\"https://fakestoreapi.com/products\");case 9:api=_context.sent;_context.next=12;return api.json();case 12:data=_context.sent;localStorage.setItem('product',JSON.stringify(data));setPopular(data);case 15:case\"end\":return _context.stop();}}},_callee);}));return function getPopular(){return _ref.apply(this,arguments);};}();console.log(popular);return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Popular products\"}),/*#__PURE__*/_jsx(Splide,{options:{rewind:true,gap:'5rem',perPage:'4',arrows:false,pagination:false,drag:'free'},children:popular.map(function(product,idx,arr){return/*#__PURE__*/_jsx(SplideSlide,{children:/*#__PURE__*/_jsx(Link,{to:\"/receipe/\".concat(product.id),children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"p\",{children:product.title}),/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"demo\"}),/*#__PURE__*/_jsx(Gradient,{})]})})},product.id);})})]});};export default Popular;","map":{"version":3,"sources":["E:/project/react/react-product/src/components/Popular.js"],"names":["Splide","SplideSlide","React","useEffect","useState","Wrapper","Card","Gradient","Link","Popular","popular","setPopular","getPopular","check","localStorage","getItem","console","log","JSON","parse","fetch","api","json","data","setItem","stringify","rewind","gap","perPage","arrows","pagination","drag","map","product","idx","arr","id","title","image"],"mappings":"uWAAA,OAASA,MAAT,CAAiBC,WAAjB,KAAoC,wBAApC,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,CAAiBC,IAAjB,CAAsBC,QAAtB,KAAsC,UAAtC,CACA,MAAO,4BAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,cAA8BL,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACAR,SAAS,CAAC,UAAM,CACdS,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,UAAU,0FAAG,sJAEXC,KAFW,CAEHC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAFG,KAGdF,KAHc,yBAIfG,OAAO,CAACC,GAAR,CAAY,6BAAZ,EACEN,UAAU,CAACO,IAAI,CAACC,KAAL,CAAWN,KAAX,CAAD,CAAV,CALa,8BAOfG,OAAO,CAACC,GAAR,CAAY,aAAZ,EAPe,sBAQKG,CAAAA,KAAK,qCARV,QAQPC,GARO,sCAWQA,CAAAA,GAAG,CAACC,IAAJ,EAXR,SAWLC,IAXK,eAYXT,YAAY,CAACU,OAAb,CAAqB,SAArB,CAA+BN,IAAI,CAACO,SAAL,CAAeF,IAAf,CAA/B,EACAZ,UAAU,CAACY,IAAD,CAAV,CAbW,uDAAH,kBAAVX,CAAAA,UAAU,0CAAhB,CAkBAI,OAAO,CAACC,GAAR,CAAYP,OAAZ,EAEA,mBACE,MAAC,OAAD,yBACA,wCADA,cAGI,KAAC,MAAD,EAAQ,OAAO,CAAG,CACdgB,MAAM,CAAE,IADM,CAEdC,GAAG,CAAK,MAFM,CAGdC,OAAO,CAAC,GAHM,CAIdC,MAAM,CAAC,KAJO,CAKdC,UAAU,CAAC,KALG,CAMdC,IAAI,CAAC,MANS,CAAlB,UAQGrB,OAAO,CAACsB,GAAR,CAAY,SAACC,OAAD,CAAUC,GAAV,CAAeC,GAAf,CAAuB,CAClC,mBACI,KAAC,WAAD,wBACE,KAAC,IAAD,EAAM,EAAE,oBAAcF,OAAO,CAACG,EAAtB,CAAR,uBACE,MAAC,IAAD,yBACM,mBAAIH,OAAO,CAACI,KAAZ,EADN,cAEM,YAAK,GAAG,CAAEJ,OAAO,CAACK,KAAlB,CAAyB,GAAG,CAAC,MAA7B,EAFN,cAGM,KAAC,QAAD,IAHN,GADF,EADF,EAAkBL,OAAO,CAACG,EAA1B,CADJ,CAWD,CAZA,CARH,EAHJ,GADF,CA6BD,CAvDD,CA0DA,cAAe3B,CAAAA,OAAf","sourcesContent":["import { Splide, SplideSlide } from \"@splidejs/react-splide\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Wrapper,Card,Gradient } from \"./Styled\";\r\nimport \"@splidejs/react-splide/css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst Popular = () => {\r\n  const [popular, setPopular] = useState([]);\r\n  useEffect(() => {\r\n    getPopular();\r\n  }, []);\r\n\r\n  const getPopular = async () => {\r\n\r\n    const check = localStorage.getItem('product');\r\n    if(check){\r\n      console.log('get data from local storage');\r\n        setPopular(JSON.parse(check))\r\n    }else{\r\n      console.log('calling api');\r\n        const api = await fetch(\r\n            `https://fakestoreapi.com/products`\r\n          );\r\n          const data = await api.json();\r\n          localStorage.setItem('product',JSON.stringify(data));\r\n          setPopular(data);\r\n    }\r\n\r\n  };\r\n\r\n  console.log(popular);\r\n\r\n  return (\r\n    <Wrapper>\r\n    <h2>Popular products</h2>\r\n      {\r\n        <Splide options={ {\r\n            rewind: true,\r\n            gap   : '5rem',\r\n            perPage:'4',\r\n            arrows:false,\r\n            pagination:false,\r\n            drag:'free'\r\n        } }>\r\n          {popular.map((product, idx, arr) => {\r\n            return (\r\n                <SplideSlide key={product.id}>\r\n                  <Link to={`/receipe/${product.id}`}>\r\n                    <Card>\r\n                          <p>{product.title}</p>\r\n                          <img src={product.image} alt=\"demo\" />\r\n                          <Gradient/>\r\n                      </Card>\r\n                  </Link>\r\n                </SplideSlide>\r\n            );\r\n          })}\r\n        </Splide>\r\n      }\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\n\r\nexport default Popular;\r\n"]},"metadata":{},"sourceType":"module"}